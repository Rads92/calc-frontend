(this["webpackJsonpfrontend-ciasto"]=this["webpackJsonpfrontend-ciasto"]||[]).push([[0],{48:function(e,t,a){e.exports=a(77)},53:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=(a(53),a(18)),u=a(15),i=a(17),m=a(20),s=a(11),E=function(){return r.a.createElement(m.a,{bg:"light",expand:"lg"},r.a.createElement(m.a.Brand,{to:"/ciasto"},"Ciasto manager"),r.a.createElement(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(m.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(i.a,{className:"mr-auto"},r.a.createElement(o.b,{to:"/cukier"},r.a.createElement(s.a,{variant:"secondary"},"Cukier")),r.a.createElement(o.b,{to:"/syrop"},r.a.createElement(s.a,{variant:"secondary"},"Syrop")),r.a.createElement(o.b,{to:"/ziola"},r.a.createElement(s.a,{variant:"secondary"},"Ziola")),r.a.createElement(o.b,{to:"/ciasto"},r.a.createElement(s.a,{variant:"secondary"},"Ciasto")))))},b=a(7),d=a(5),f=a(26),y=a.n(f),p=function(e){return y.a.get("http://localhost:5000/api/v1/"+e)},v=function(e,t){return y.a.post("http://localhost:5000/api/v1/"+e,t)},g=function(e){var t=e.name,a=e.goToStore,c=Object(n.useState)(""),l=Object(b.a)(c,2),o=l[0],u=l[1],i=Object(n.useState)(""),m=Object(b.a)(i,2),E=m[0],f=m[1],y=Object(n.useState)(""),p=Object(b.a)(y,2),g=p[0],h=p[1];return r.a.createElement(d.a,{onSubmit:function(e){e.preventDefault(),v(t.toLowerCase(),{dostawa:o,ilosc:E,cena:g}).then((function(){a()}))}},r.a.createElement(d.a.Group,{controlId:"dostawa"},r.a.createElement(d.a.Label,null,"Dostawa"),r.a.createElement(d.a.Control,{value:o,required:!0,onChange:function(e){return u(e.target.value)}})),r.a.createElement(d.a.Group,{controlId:"ilosc"},r.a.createElement(d.a.Label,null,"Ilo\u015b\u0107"),r.a.createElement(d.a.Control,{required:!0,type:"number",value:E,onChange:function(e){return f(e.target.value)}})),r.a.createElement(d.a.Group,{controlId:"cena"},r.a.createElement(d.a.Label,null,"Cena"),r.a.createElement(d.a.Control,{type:"number",required:!0,value:g,onChange:function(e){return h(e.target.value)}})),r.a.createElement(s.a,{variant:"primary",type:"submit"},"Wy\u015blij"))},h=a(47),j=function(e){var t=e.name,a=t.toLowerCase(),c=Object(n.useState)([]),l=Object(b.a)(c,2),o=l[0],u=l[1];Object(n.useEffect)((function(){p(a).then((function(e){return u(e.data[a])}))}),[t]);var i=function(e){var t;(t="".concat(a,"/").concat(e),y.a.delete("http://localhost:5000/api/v1/"+t)).then((function(e){return u(e.data[a])}))},m="ciasto"!==a;return o.length?r.a.createElement(h.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Dostawa"),r.a.createElement("th",null,"Stan pocz\u0105tkowy [kg]"),m&&r.a.createElement("th",null,"Zu\u017cyte [kg]"),r.a.createElement("th",null,"Stan obecny [kg]"),r.a.createElement("th",null,"Cena [z\u0142/kg]"),m&&r.a.createElement("th",null))),r.a.createElement("tbody",null,o.map((function(e,t){return r.a.createElement("tr",{key:"key-".concat(e.id)},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.dostawa||e.partia),r.a.createElement("td",null,e.ilosc),m&&r.a.createElement("td",null,e.zuzyte),r.a.createElement("td",null,e.stan),r.a.createElement("td",null,e.cena),r.a.createElement("td",null,e.stan===e.ilosc&&r.a.createElement(s.a,{variant:"danger",onClick:function(){return i(e.id)}},"Usu\u0144")))})))):r.a.createElement("h3",null,"Nic tu nie ma...")},k=a(27),O=a(19),z=function(e){var t=e.goToStore;Object(n.useEffect)((function(){p("stan").then((function(e){u(e.data.cukier.filter((function(e){return e.stan>0}))),f(e.data.syrop.filter((function(e){return e.stan>0}))),j(e.data.ziola.filter((function(e){return e.stan>0})))}))}),[]);var a=["Cukier","Syrop","Zio\u0142a"],c=Object(n.useState)([]),l=Object(b.a)(c,2),o=l[0],u=l[1],i=Object(n.useState)([]),m=Object(b.a)(i,2),E=m[0],f=m[1],y=Object(n.useState)([]),g=Object(b.a)(y,2),h=g[0],j=g[1],z=Object(n.useState)([]),C=Object(b.a)(z,2),S=C[0],w=C[1],I=Object(n.useState)([]),L=Object(b.a)(I,2),G=L[0],T=L[1],Z=Object(n.useState)([]),q=Object(b.a)(Z,2),D=q[0],W=q[1],x=Object(n.useState)(""),B=Object(b.a)(x,2),K=B[0],N=B[1],J=[S,G,D];return r.a.createElement(d.a,{onSubmit:function(e){e.preventDefault(),v("ciasto",{partia:K,cukier:S,syrop:G,ziola:D}).then((function(){return t()}))}},r.a.createElement(d.a.Group,{controlId:"partia"},r.a.createElement(d.a.Label,null,"Partia"),r.a.createElement(d.a.Control,{value:K,required:!0,onChange:function(e){return N(e.target.value)}})),[o,E,h].map((function(e,t){var n=J[t];if(console.log(J),e.length||n.length)return r.a.createElement("div",{key:t},!!e.length&&r.a.createElement(d.a.Group,{controlId:a[t],key:a[t]},r.a.createElement(d.a.Label,null,a[t]),r.a.createElement(d.a.Control,{as:"select",onChange:function(e){return function(e,t){var a=e.target.value;switch(t){case"Cukier":w([].concat(Object(O.a)(S),[Object(k.a)({},o.find((function(e){return+e.id===+a})),{zuzyte:0})])),u(o.filter((function(e){return+e.id!==+a})));break;case"Syrop":T([].concat(Object(O.a)(G),[Object(k.a)({},E.find((function(e){return+e.id===+a})),{zuzyte:0})])),f(E.filter((function(e){return+e.id!==+a})));break;case"Zio\u0142a":W([].concat(Object(O.a)(D),[Object(k.a)({},h.find((function(e){return+e.id===+a})),{zuzyte:0})])),j(h.filter((function(e){return+e.id!==+a})))}}(e,a[t])}},r.a.createElement("option",null,"Wybierz z listy"),e.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.dostawa,": Stan: ",e.stan," kg - Cena - ",e.cena," z\u0142/kg")})))),!!n.length&&n.map((function(e,n){return r.a.createElement(d.a.Group,{controlId:a[t],key:"choosen"+a[t]},r.a.createElement(d.a.Label,null,e.dostawa,": Stan: ",e.stan," kg - Cena - ",e.cena," z\u0142/kg"),r.a.createElement(d.a.Control,{type:"number",required:!0,value:e.zuzyte,onChange:function(e){return function(e,t,a){switch(e){case"Cukier":var n=Object(O.a)(S);n[t].zuzyte=+a,w(n);break;case"Syrop":var r=Object(O.a)(G);r[t].zuzyte=+a,T(r);break;case"Zio\u0142a":var c=Object(O.a)(D);c[t].zuzyte=+a,W(c)}}(a[t],n,e.target.value)},max:+e.stan,min:0,isInvalid:e.zuzyte>e.stan}))})))})),r.a.createElement(s.a,{variant:"primary",type:"submit"},"Wy\u015blij"))},C=function(e){var t=e.name,a=Object(n.useState)("magazyn"),c=Object(b.a)(a,2),l=c[0],o=c[1],u=Object(n.useCallback)((function(){return o("magazyn")}),[]),m="Ciasto"===t?r.a.createElement(z,{goToStore:u}):r.a.createElement(g,{name:t,goToStore:u}),s="magazyn"===l?r.a.createElement(j,{name:t,goToStore:u}):m;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{activeKey:l,className:"justify-content-center",variant:"tabs",onSelect:o},r.a.createElement(i.a.Item,null,r.a.createElement(i.a.Link,{eventKey:"magazyn"},"".concat(t," - Stan magazynowy"))),r.a.createElement(i.a.Item,null,r.a.createElement(i.a.Link,{eventKey:"dostawa"},"".concat(t," - Dostawa")))),s)};var S=function(){return console.log(window.location),r.a.createElement(o.a,null,r.a.createElement(E,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/cukier"},r.a.createElement(C,{name:"Cukier"})),r.a.createElement(u.a,{path:"/syrop"},r.a.createElement(C,{name:"Syrop"})),r.a.createElement(u.a,{path:"/ziola"},r.a.createElement(C,{name:"Ziola"})),r.a.createElement(u.a,{path:"/ciasto"},r.a.createElement(C,{name:"Ciasto"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.bba3463a.chunk.js.map